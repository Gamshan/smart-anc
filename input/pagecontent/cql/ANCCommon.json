{
  "library" : {
    "type" : "Library",
    "identifier" : {
      "type" : "VersionedIdentifier",
      "id" : "ANCCommon",
      "version" : "0.1.0"
    },
    "schemaIdentifier" : {
      "type" : "VersionedIdentifier",
      "id" : "urn:hl7-org:elm",
      "version" : "r1"
    },
    "usings" : {
      "type" : "Library$Usings",
      "def" : [ {
        "type" : "UsingDef",
        "localIdentifier" : "System",
        "uri" : "urn:hl7-org:elm-types:r1"
      }, {
        "type" : "UsingDef",
        "localIdentifier" : "FHIR",
        "uri" : "http://hl7.org/fhir",
        "version" : "4.0.0"
      } ]
    },
    "includes" : {
      "type" : "Library$Includes",
      "def" : [ {
        "type" : "IncludeDef",
        "localIdentifier" : "FHIRHelpers",
        "path" : "FHIRHelpers",
        "version" : "4.0.0"
      }, {
        "type" : "IncludeDef",
        "localIdentifier" : "FC",
        "path" : "FHIRCommon",
        "version" : "0.1.0"
      } ]
    },
    "parameters" : {
      "type" : "Library$Parameters",
      "def" : [ {
        "type" : "ParameterDef",
        "parameterTypeSpecifier" : {
          "type" : "NamedTypeSpecifier",
          "name" : "{http://hl7.org/fhir}Encounter"
        },
        "name" : "EncounterInProgress",
        "accessLevel" : "Public"
      } ]
    },
    "codeSystems" : {
      "type" : "Library$CodeSystems",
      "def" : [ {
        "type" : "CodeSystemDef",
        "name" : "ANCCodes",
        "id" : "http://fhir.org/guides/who/anc-cds/CodeSystem/anc-codes",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeSystemDef",
        "name" : "OpenMRSEntity",
        "id" : "http://openmrs.org/concepts",
        "accessLevel" : "Public"
      } ]
    },
    "valueSets" : {
      "type" : "Library$ValueSets",
      "def" : [ {
        "type" : "ValueSetDef",
        "name" : "Haemoglobin Tests",
        "id" : "TBD",
        "accessLevel" : "Public"
      } ]
    },
    "codes" : {
      "type" : "Library$Codes",
      "def" : [ {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "EpisodeOfCareType",
          "libraryName" : "FC"
        },
        "name" : "ANC Pregnancy Case",
        "id" : "hacc",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "Hb Complete Blood Count",
        "id" : "1019AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Complete blood count test result (g/dl) (recommended)",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "Hb Haemoglobinometer",
        "id" : "165395AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Haemoglobin measured from haemoglobinometer (g/dl)",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "Hb Color Scale",
        "id" : "165396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Haemoglobin measured from color scale (g/dl)",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "LMP",
        "id" : "1427AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Date of last menstrual period",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "UltrasoundGA",
        "id" : "165220AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Gestational age in weeks from ultrasound",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "FundalHeight",
        "id" : "1439AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "FUNDAL HEIGHT",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "Weeks of gestational age",
        "id" : "1438AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
        "display" : "Weeks of gestational age",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "SNOMEDCT",
          "libraryName" : "FC"
        },
        "name" : "Pregnancy (finding)",
        "id" : "TBD",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "SNOMEDCT",
          "libraryName" : "FC"
        },
        "name" : "Ultrasound (procedure)",
        "id" : "TBD",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "OpenMRSEntity"
        },
        "name" : "Selected Gestational Age Method",
        "id" : "GestAgeMethod",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "ANCCodes"
        },
        "name" : "UseLMP",
        "id" : "UseLMP",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "ANCCodes"
        },
        "name" : "UseUltrasound",
        "id" : "UseUltrasound",
        "accessLevel" : "Public"
      }, {
        "type" : "CodeDef",
        "codeSystem" : {
          "type" : "CodeSystemRef",
          "name" : "ANCCodes"
        },
        "name" : "UseSFH",
        "id" : "UseSFH",
        "accessLevel" : "Public"
      } ]
    },
    "statements" : {
      "type" : "Library$Statements",
      "def" : [ {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "SingletonFrom",
          "operand" : {
            "type" : "Retrieve",
            "dataType" : "{http://hl7.org/fhir}Patient"
          }
        },
        "name" : "Patient",
        "context" : "Patient"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "First",
          "source" : {
            "type" : "Query",
            "source" : [ {
              "type" : "AliasedQuerySource",
              "expression" : {
                "type" : "Retrieve",
                "dataType" : "{http://hl7.org/fhir}EpisodeOfCare"
              },
              "alias" : "E"
            } ],
            "where" : {
              "type" : "Exists",
              "operand" : {
                "type" : "Query",
                "source" : [ {
                  "type" : "AliasedQuerySource",
                  "expression" : {
                    "type" : "Property",
                    "path" : "type",
                    "scope" : "E"
                  },
                  "alias" : "C"
                } ],
                "where" : {
                  "type" : "Equivalent",
                  "operand" : [ {
                    "type" : "FunctionRef",
                    "operand" : [ {
                      "type" : "AliasRef",
                      "name" : "C"
                    } ],
                    "name" : "ToConcept",
                    "libraryName" : "FHIRHelpers"
                  }, {
                    "type" : "ToConcept",
                    "operand" : {
                      "type" : "CodeRef",
                      "name" : "ANC Pregnancy Case"
                    }
                  } ]
                }
              }
            },
            "sort" : {
              "type" : "SortClause",
              "by" : [ {
                "type" : "ByExpression",
                "expression" : {
                  "type" : "Start",
                  "operand" : {
                    "type" : "FunctionRef",
                    "operand" : [ {
                      "type" : "IdentifierRef",
                      "name" : "period"
                    } ],
                    "name" : "ToInterval",
                    "libraryName" : "FHIRHelpers"
                  }
                },
                "direction" : "descending"
              } ]
            }
          }
        },
        "name" : "pregnancy",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Not",
          "operand" : {
            "type" : "IsNull",
            "operand" : {
              "type" : "ExpressionRef",
              "name" : "pregnancy"
            }
          }
        },
        "name" : "pregnant",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Query",
          "source" : [ {
            "type" : "AliasedQuerySource",
            "expression" : {
              "type" : "Retrieve",
              "codes" : {
                "type" : "ToList",
                "operand" : {
                  "type" : "CodeRef",
                  "name" : "Pregnancy (finding)"
                }
              },
              "dataType" : "{http://hl7.org/fhir}Condition",
              "codeProperty" : "code"
            },
            "alias" : "C"
          } ],
          "where" : {
            "type" : "And",
            "operand" : [ {
              "type" : "And",
              "operand" : [ {
                "type" : "Equal",
                "operand" : [ {
                  "type" : "FunctionRef",
                  "operand" : [ {
                    "type" : "Property",
                    "path" : "id",
                    "scope" : "C"
                  } ],
                  "name" : "ToString",
                  "libraryName" : "FHIRHelpers"
                }, {
                  "type" : "FunctionRef",
                  "operand" : [ {
                    "type" : "FunctionRef",
                    "operand" : [ {
                      "type" : "Property",
                      "source" : {
                        "type" : "Property",
                        "source" : {
                          "type" : "First",
                          "source" : {
                            "type" : "Property",
                            "source" : {
                              "type" : "ExpressionRef",
                              "name" : "pregnancy"
                            },
                            "path" : "diagnosis"
                          }
                        },
                        "path" : "condition"
                      },
                      "path" : "reference"
                    } ],
                    "name" : "ToString",
                    "libraryName" : "FHIRHelpers"
                  } ],
                  "name" : "GetId",
                  "libraryName" : "FC"
                } ]
              }, {
                "type" : "Equivalent",
                "operand" : [ {
                  "type" : "FunctionRef",
                  "operand" : [ {
                    "type" : "Property",
                    "path" : "clinicalStatus",
                    "scope" : "C"
                  } ],
                  "name" : "ToConcept",
                  "libraryName" : "FHIRHelpers"
                }, {
                  "type" : "ToConcept",
                  "operand" : {
                    "type" : "CodeRef",
                    "name" : "active",
                    "libraryName" : "FC"
                  }
                } ]
              } ]
            }, {
              "type" : "Equivalent",
              "operand" : [ {
                "type" : "FunctionRef",
                "operand" : [ {
                  "type" : "Property",
                  "path" : "verificationStatus",
                  "scope" : "C"
                } ],
                "name" : "ToConcept",
                "libraryName" : "FHIRHelpers"
              }, {
                "type" : "ToConcept",
                "operand" : {
                  "type" : "CodeRef",
                  "name" : "confirmed",
                  "libraryName" : "FC"
                }
              } ]
            } ]
          }
        },
        "name" : "pregnancyCondition",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "First",
          "source" : {
            "type" : "Query",
            "source" : [ {
              "type" : "AliasedQuerySource",
              "expression" : {
                "type" : "Retrieve",
                "codes" : {
                  "type" : "ToList",
                  "operand" : {
                    "type" : "CodeRef",
                    "name" : "LMP"
                  }
                },
                "dataType" : "{http://hl7.org/fhir}Observation",
                "codeProperty" : "code"
              },
              "alias" : "O"
            } ],
            "where" : {
              "type" : "And",
              "operand" : [ {
                "type" : "Equal",
                "operand" : [ {
                  "type" : "FunctionRef",
                  "operand" : [ {
                    "type" : "Property",
                    "path" : "status",
                    "scope" : "O"
                  } ],
                  "name" : "ToString",
                  "libraryName" : "FHIRHelpers"
                }, {
                  "type" : "Literal",
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "final"
                } ]
              }, {
                "type" : "SameOrAfter",
                "operand" : [ {
                  "type" : "FunctionRef",
                  "operand" : [ {
                    "type" : "Property",
                    "path" : "issued",
                    "scope" : "O"
                  } ],
                  "name" : "ToDateTime",
                  "libraryName" : "FHIRHelpers"
                }, {
                  "type" : "Start",
                  "operand" : {
                    "type" : "FunctionRef",
                    "operand" : [ {
                      "type" : "Property",
                      "source" : {
                        "type" : "ExpressionRef",
                        "name" : "pregnancy"
                      },
                      "path" : "period"
                    } ],
                    "name" : "ToInterval",
                    "libraryName" : "FHIRHelpers"
                  }
                } ]
              } ]
            },
            "return" : {
              "type" : "ReturnClause",
              "expression" : {
                "type" : "FunctionRef",
                "operand" : [ {
                  "type" : "As",
                  "operand" : {
                    "type" : "Property",
                    "path" : "value",
                    "scope" : "O"
                  },
                  "asType" : "{http://hl7.org/fhir}dateTime"
                } ],
                "name" : "ToDateTime",
                "libraryName" : "FHIRHelpers"
              }
            },
            "sort" : {
              "type" : "SortClause",
              "by" : [ {
                "type" : "ByDirection",
                "direction" : "desc"
              } ]
            }
          }
        },
        "name" : "lmp",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Not",
          "operand" : {
            "type" : "IsNull",
            "operand" : {
              "type" : "ExpressionRef",
              "name" : "lmp"
            }
          }
        },
        "name" : "lmp_known",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Add",
          "operand" : [ {
            "type" : "Add",
            "operand" : [ {
              "type" : "ExpressionRef",
              "name" : "lmp"
            }, {
              "type" : "Quantity",
              "value" : 7,
              "unit" : "days"
            } ]
          }, {
            "type" : "Quantity",
            "value" : 9,
            "unit" : "months"
          } ]
        },
        "name" : "lmp_edd",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "TruncatedDivide",
          "operand" : [ {
            "type" : "DurationBetween",
            "operand" : [ {
              "type" : "ExpressionRef",
              "name" : "lmp"
            }, {
              "type" : "ToDateTime",
              "operand" : {
                "type" : "Today"
              }
            } ],
            "precision" : "Day"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "7"
          } ]
        },
        "name" : "lmp_gest_age_weeks",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Modulo",
          "operand" : [ {
            "type" : "DurationBetween",
            "operand" : [ {
              "type" : "ExpressionRef",
              "name" : "lmp"
            }, {
              "type" : "ToDateTime",
              "operand" : {
                "type" : "Today"
              }
            } ],
            "precision" : "Day"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "7"
          } ]
        },
        "name" : "lmp_gest_age_remainder",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Query",
          "source" : [ {
            "type" : "AliasedQuerySource",
            "expression" : {
              "type" : "Retrieve",
              "codes" : {
                "type" : "ToList",
                "operand" : {
                  "type" : "CodeRef",
                  "name" : "Ultrasound (procedure)"
                }
              },
              "dateRange" : {
                "type" : "FunctionRef",
                "operand" : [ {
                  "type" : "Property",
                  "source" : {
                    "type" : "ExpressionRef",
                    "name" : "pregnancy"
                  },
                  "path" : "period"
                } ],
                "name" : "ToInterval",
                "libraryName" : "FHIRHelpers"
              },
              "dataType" : "{http://hl7.org/fhir}Procedure",
              "codeProperty" : "code",
              "dateProperty" : "performed"
            },
            "alias" : "P"
          } ],
          "where" : {
            "type" : "Equal",
            "operand" : [ {
              "type" : "FunctionRef",
              "operand" : [ {
                "type" : "Property",
                "path" : "status",
                "scope" : "P"
              } ],
              "name" : "ToString",
              "libraryName" : "FHIRHelpers"
            }, {
              "type" : "Literal",
              "valueType" : "{urn:hl7-org:elm-types:r1}String",
              "value" : "completed"
            } ]
          }
        },
        "name" : "ultrasoundProcedures",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "FunctionRef",
          "operand" : [ {
            "type" : "As",
            "operand" : {
              "type" : "Property",
              "source" : {
                "type" : "First",
                "source" : {
                  "type" : "Query",
                  "source" : [ {
                    "type" : "AliasedQuerySource",
                    "expression" : {
                      "type" : "Retrieve",
                      "codes" : {
                        "type" : "ToList",
                        "operand" : {
                          "type" : "CodeRef",
                          "name" : "Selected Gestational Age Method"
                        }
                      },
                      "dataType" : "{http://hl7.org/fhir}Observation",
                      "codeProperty" : "code"
                    },
                    "alias" : "O"
                  } ],
                  "where" : {
                    "type" : "And",
                    "operand" : [ {
                      "type" : "Equal",
                      "operand" : [ {
                        "type" : "FunctionRef",
                        "operand" : [ {
                          "type" : "Property",
                          "path" : "status",
                          "scope" : "O"
                        } ],
                        "name" : "ToString",
                        "libraryName" : "FHIRHelpers"
                      }, {
                        "type" : "Literal",
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "final"
                      } ]
                    }, {
                      "type" : "SameOrAfter",
                      "operand" : [ {
                        "type" : "FunctionRef",
                        "operand" : [ {
                          "type" : "Property",
                          "path" : "issued",
                          "scope" : "O"
                        } ],
                        "name" : "ToDateTime",
                        "libraryName" : "FHIRHelpers"
                      }, {
                        "type" : "Start",
                        "operand" : {
                          "type" : "FunctionRef",
                          "operand" : [ {
                            "type" : "Property",
                            "source" : {
                              "type" : "ExpressionRef",
                              "name" : "pregnancy"
                            },
                            "path" : "period"
                          } ],
                          "name" : "ToInterval",
                          "libraryName" : "FHIRHelpers"
                        }
                      } ]
                    } ]
                  },
                  "sort" : {
                    "type" : "SortClause",
                    "by" : [ {
                      "type" : "ByColumn",
                      "direction" : "desc",
                      "path" : "issued"
                    } ]
                  }
                }
              },
              "path" : "value"
            },
            "asType" : "{http://hl7.org/fhir}CodeableConcept"
          } ],
          "name" : "ToConcept",
          "libraryName" : "FHIRHelpers"
        },
        "name" : "select_gest_age_edd",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "As",
          "asTypeSpecifier" : {
            "type" : "NamedTypeSpecifier",
            "name" : "{urn:hl7-org:elm-types:r1}Integer"
          },
          "operand" : {
            "type" : "Null"
          }
        },
        "name" : "ultrasound_gest_age_weeks",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "As",
          "asTypeSpecifier" : {
            "type" : "NamedTypeSpecifier",
            "name" : "{urn:hl7-org:elm-types:r1}DateTime"
          },
          "operand" : {
            "type" : "Null"
          }
        },
        "name" : "ultrasound_edd",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "As",
          "asTypeSpecifier" : {
            "type" : "NamedTypeSpecifier",
            "name" : "{urn:hl7-org:elm-types:r1}Integer"
          },
          "operand" : {
            "type" : "Null"
          }
        },
        "name" : "sfh_gest_age_weeks",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "As",
          "asTypeSpecifier" : {
            "type" : "NamedTypeSpecifier",
            "name" : "{urn:hl7-org:elm-types:r1}DateTime"
          },
          "operand" : {
            "type" : "Null"
          }
        },
        "name" : "sfh_edd",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Case",
          "comparand" : {
            "type" : "ExpressionRef",
            "name" : "select_gest_age_edd"
          },
          "caseItem" : [ {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseLMP"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "lmp_gest_age_weeks"
            }
          }, {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseUltrasound"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "ultrasound_gest_age_weeks"
            }
          }, {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseSFH"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "sfh_gest_age_weeks"
            }
          } ],
          "else" : {
            "type" : "As",
            "operand" : {
              "type" : "Null"
            },
            "asType" : "{urn:hl7-org:elm-types:r1}Integer"
          }
        },
        "name" : "gest_age",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Case",
          "comparand" : {
            "type" : "ExpressionRef",
            "name" : "select_gest_age_edd"
          },
          "caseItem" : [ {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseLMP"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "lmp_edd"
            }
          }, {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseUltrasound"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "ultrasound_edd"
            }
          }, {
            "type" : "CaseItem",
            "when" : {
              "type" : "ToConcept",
              "operand" : {
                "type" : "CodeRef",
                "name" : "UseSFH"
              }
            },
            "then" : {
              "type" : "ExpressionRef",
              "name" : "sfh_edd"
            }
          } ],
          "else" : {
            "type" : "As",
            "operand" : {
              "type" : "Null"
            },
            "asType" : "{urn:hl7-org:elm-types:r1}DateTime"
          }
        },
        "name" : "edd",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "LessOrEqual",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "12"
          } ]
        },
        "name" : "Up to 12 Weeks",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "20"
          } ]
        },
        "name" : "20 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "26"
          } ]
        },
        "name" : "26 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "30"
          } ]
        },
        "name" : "30 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "34"
          } ]
        },
        "name" : "34 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "36"
          } ]
        },
        "name" : "36 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "38"
          } ]
        },
        "name" : "38 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      }, {
        "type" : "ExpressionDef",
        "expression" : {
          "type" : "Equal",
          "operand" : [ {
            "type" : "ExpressionRef",
            "name" : "gest_age"
          }, {
            "type" : "Literal",
            "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
            "value" : "40"
          } ]
        },
        "name" : "40 weeks gestation",
        "context" : "Patient",
        "accessLevel" : "Public"
      } ]
    },
    "annotation" : [ {
      "translatorOptions" : "EnableDateRangeOptimization,DisableListDemotion,DisableListPromotion,DisableMethodInvocation"
    } ]
  }
}

